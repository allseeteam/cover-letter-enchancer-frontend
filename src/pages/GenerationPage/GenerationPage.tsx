import React, { useState } from 'react';
import { GeneratedLetterResponce } from "../../types";
import './GenerationPage.css';
import {wait} from "@testing-library/user-event/dist/utils";

export const GenerationPage: React.FC = () => {
  const [template, setTemplate] = useState('');
  const [resume, setResume] = useState('');
  const [jobDescription, setJobDescription] = useState('');
  const [generatedLetter, setGeneratedLetter] = useState('');
  const [isLoading, setIsLoading] = useState(false); // Added loading state

  const handleGenerate = async () => {
      setIsLoading(true);
      try {
          const response = await fetch(
                'http://localhost:8000/generate_letter/',
                {
                    method: 'POST',
                    body: JSON.stringify({
                        letter_template: template,
                        resume: resume,
                        job_description: jobDescription
                    }),
                    headers: { 'Content-Type': 'application/json' }
                }
            );
            const data: GeneratedLetterResponce = await response.json();
            setGeneratedLetter(data.generated_letter);
      } catch (error) {
          await wait(3000);
          console.error("An error occurred:", error);
      } finally {
          setIsLoading(false);
      }
  };

  const fillWithExample = () => {
      setJobDescription(
          '–ú—ã - –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ä—Ç–∞–ø, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â–∏–π—Å—è –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø–µ—Ä–µ–¥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –ù–∞—à–∞ —Ü–µ–ª—å - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç—Ä–∞—Å–ª–µ–≤—ã—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –≤—ã—Å–æ–∫–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.\n' +
          '\n' +
          '–í —Å–≤—è–∑–∏ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –Ω–∞—à–µ–≥–æ –æ—Ç–¥–µ–ª–∞ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞, –º—ã –∏—â–µ–º –æ–ø—ã—Ç–Ω–æ–≥–æ ML –∏–Ω–∂–µ–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–µ–ª–∏—Ç—Å—è –Ω–∞—à–µ–π —Å—Ç—Ä–∞—Å—Ç—å—é –∫ –∏–Ω–Ω–æ–≤–∞—Ü–∏—è–º –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏—é –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É.\n' +
          '\n' +
          '**–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:**\n' +
          '\n' +
          '- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –º–∞—à–∏–Ω–Ω–æ–≥–æ –∏ –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á: –æ—Ç –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞.\n' +
          '- –ê–Ω–∞–ª–∏–∑ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π.\n' +
          '- –°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ —Å –∫–æ–º–∞–Ω–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π ML –≤ –æ–±—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–¥—É–∫—Ç–∞.\n' +
          '- –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–π –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.\n' +
          '- –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥–µ–ª–µ–π –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.\n' +
          '\n' +
          '**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**\n' +
          '\n' +
          '- –í—ã—Å—à–µ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –Ω–∞—É–∫ –∏–ª–∏ —Å–º–µ–∂–Ω—ã—Ö –¥–∏—Å—Ü–∏–ø–ª–∏–Ω.\n' +
          '- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤ –æ–±–ª–∞—Å—Ç–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è/–≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –Ω–µ –º–µ–Ω–µ–µ 3 –ª–µ—Ç.\n' +
          '- –ó–Ω–∞–Ω–∏–µ –∏ –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏ –¥–ª—è ML/DL, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ TensorFlow, PyTorch, Keras.\n' +
          '- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è Python –∏/–∏–ª–∏ R.\n' +
          '- –ó–Ω–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è SQL –∏ NoSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.\n' +
          '- –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏ —Ä–∞–±–æ—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ, –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏–∏.\n' +
          '\n' +
          '**–ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º:**\n' +
          '\n' +
          '- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω—É—é –∑–∞—Ä–∞–±–æ—Ç–Ω—É—é –ø–ª–∞—Ç—É –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—É—é —Å–∏—Å—Ç–µ–º—É –±–æ–Ω—É—Å–æ–≤.\n' +
          '- –ì–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã.\n' +
          '- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∏ –æ–±—É—á–µ–Ω–∏–µ –∑–∞ —Å—á–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏.\n' +
          '- –î—Ä—É–∂–µ–ª—é–±–Ω—É—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤ –∫–æ–º–∞–Ω–¥–µ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.\n' +
          '- –£–Ω–∏–∫–∞–ª—å–Ω—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –∏–º–µ—é—â–∏–º–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–ª–∏—è–Ω–∏–µ.\n' +
          '\n' +
          '–ï—Å–ª–∏ –≤—ã –≥–æ—Ç–æ–≤—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –Ω–∞–º –∏ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–µ —Ä–µ–∑—é–º–µ –∏ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ –Ω–∞ –Ω–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É. –ú—ã —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –≤–∞–º–∏!\n'
      );
      setResume(
          '–ò–≤–∞–Ω–æ–≤–∞ –ê–Ω–Ω–∞ –ú–∏—Ö–∞–π–ª–æ–≤–Ω–∞\n' +
          '\n' +
          '–ñ–µ–Ω—â–∏–Ω–∞, 26 –ª–µ—Ç, —Ä–æ–¥–∏–ª–∞—Å—å 15 –º–∞—Ä—Ç–∞ 1998\n' +
          '\n' +
          '+7 (999) 123-45-67 ‚Äî üì© tg: @anna_ai\n' +
          '\n' +
          'anna.ai98@example.com ‚Äî –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏\n' +
          '\n' +
          '–ü—Ä–æ—Ñ–∏–ª—å GitHub: https://github.com/annaai\n' +
          '\n' +
          '–ü—Ä–æ–∂–∏–≤–∞–µ—Ç: –ú–æ—Å–∫–≤–∞\n' +
          '\n' +
          '–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ: –†–æ—Å—Å–∏—è, –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç—É: –†–æ—Å—Å–∏—è\n' +
          '\n' +
          '–ì–æ—Ç–æ–≤–∞ –∫ –ø–µ—Ä–µ–µ–∑–¥—É, –≥–æ—Ç–æ–≤–∞ –∫ –∫–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞–º\n' +
          '\n' +
          '–ñ–µ–ª–∞–µ–º–∞—è –¥–æ–ª–∂–Ω–æ—Å—Ç—å –∏ –∑–∞—Ä–ø–ª–∞—Ç–∞\n' +
          '\n' +
          'ML Engineer / Data Scientist\n' +
          '\n' +
          '150 000 ‚ÇΩ\n' +
          '\n' +
          '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:\n' +
          '\n' +
          '- Machine Learning Engineer\n' +
          '- Data Scientist\n' +
          '\n' +
          '–ó–∞–Ω—è—Ç–æ—Å—Ç—å: –ø–æ–ª–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å\n' +
          '\n' +
          '–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã: –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å, –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫, —É–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞\n' +
          '\n' +
          '–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã ‚Äî 3 –≥–æ–¥–∞\n' +
          '\n' +
          'Innovatech Solutions, –ú–æ—Å–∫–≤–∞\n' +
          '\n' +
          '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ\n' +
          '\n' +
          '–ú–∞–π 2021 ‚Äî –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è 3 –≥–æ–¥–∞\n' +
          '\n' +
          'ML Engineer\n' +
          '\n' +
          '- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö.\n' +
          '- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫ Deep Learning –¥–ª—è –∑–∞–¥–∞—á Computer Vision –∏ NLP.\n' +
          '- –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.\n' +
          '- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏.\n' +
          '- –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SQL –∏ NoSQL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.\n' +
          '\n' +
          '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã: –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –Ω–∞ 20%, —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ 30%.\n' +
          '\n' +
          '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ\n' +
          '\n' +
          '–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, –ú–æ—Å–∫–≤–∞\n' +
          '\n' +
          '2020\n' +
          '\n' +
          '–§–∞–∫—É–ª—å—Ç–µ—Ç –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –∏ –∫–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∏\n' +
          '\n' +
          '–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∫—É—Ä—Å—ã\n' +
          '\n' +
          '"–ì–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π" - Coursera, 2021\n' +
          '\n' +
          '"–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å –ø–æ –º–∞—à–∏–Ω–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é" - Stepik, 2022\n' +
          '\n' +
          '–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏\n' +
          '\n' +
          '- Python, PyTorch, TensorFlow, Keras\n' +
          '- Computer Vision, NLP, Deep Learning\n' +
          '- SQL, MongoDB\n' +
          '- Linux, Docker, Git\n' +
          '- –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫ ‚Äî C1\n' +
          '\n' +
          '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è\n' +
          '\n' +
          '–û–±–æ –º–Ω–µ: –£–≤–ª–µ—á–µ–Ω–∞ —Ä–µ—à–µ–Ω–∏–µ–º —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∞–Ω–∞–ª–∏–∑–æ–º –¥–∞–Ω–Ω—ã—Ö –∏ –º–∞—à–∏–Ω–Ω—ã–º –æ–±—É—á–µ–Ω–∏–µ–º. –ò–º–µ—é –æ–ø—ã—Ç —É—á–∞—Å—Ç–∏—è –≤ –Ω–∞—É—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π –ø–æ —Ç–µ–º–∞—Ç–∏–∫–µ –ò–ò. –í —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–Ω–∏–º–∞—é—Å—å —Å–∞–º–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –∏ –∏–∑—É—á–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.\n' +
          '\n' +
          '–ü—Ä–æ–µ–∫—Ç—ã –∏ —Ö–∞–∫–∞—Ç–æ–Ω—ã:\n' +
          '- –£—á–∞—Å—Ç–Ω–∏–∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ —Ö–∞–∫–∞—Ç–æ–Ω–∞ –ø–æ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É AI Journey 2022.\n' +
          '- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é —ç–º–æ—Ü–∏–π –ø–æ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞–º, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ Neural Information Processing Systems (NeurIPS).\n' +
          '\n' +
          '–°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π –º–æ–∂–Ω–æ –≤ Telegram ‚ûú https://t.me/anna_ai\n' +
          '–ú–æ–π GitHub ‚ûú https://github.com/annaai\n' +
          '\n' +
          '–° –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∏ –∫–æ–º–∞–Ω–¥—É!\n'
      );
      setTemplate(
          '–î–æ–±—Ä—ã–π –¥–µ–Ω—å!\n' +
          '\n' +
          '–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞.\n' +
          '\n' +
          '–Ø —Å –±–æ–ª—å—à–∏–º –∏–Ω—Ç–µ—Ä–µ—Å–æ–º –æ–∑–Ω–∞–∫–æ–º–∏–ª–∞—Å—å —Å –≤–∞—à–µ–π –≤–∞–∫–∞–Ω—Å–∏–µ–π –Ω–∞ –¥–æ–ª–∂–Ω–æ—Å—Ç—å ML –∏–Ω–∂–µ–Ω–µ—Ä–∞. –í–∞—à–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∏ –ø–µ—Ä–µ—á–µ–Ω—å –∑–∞–¥–∞—á –≥–æ–≤–æ—Ä—è—Ç –æ —Ç–æ–º, —á—Ç–æ –ø–µ—Ä–µ–¥–æ –º–Ω–æ–π —Å—Ç–æ—è—Ç –º–∞—Å—à—Ç–∞–±–Ω—ã–µ –∏ –≤—ã–∑–æ–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–æ–∏–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä–µ—Å–∞–º –∏ –æ–±–ª–∞—Å—Ç—è–º —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã:\n' +
          '{placeholder}\n' +
          '‚ñ∏ –ú–æ–π –æ–ø—ã—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.\n' +
          '\n' +
          '–ö—Ä–∞—Ç–∫–æ –æ —Å–µ–±–µ:\n' +
          '‚óè –Ø —É–≤–ª–µ—á–µ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–Ω–µ –≥–ª—É–±–æ–∫–æ –ø–æ–Ω–∏–º–∞—Ç—å –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–µ—à–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏.\n' +
          '‚óè –ê–∫—Ç–∏–≤–Ω–æ —É—á–∞—Å—Ç–≤—É—é –≤ –∂–∏–∑–Ω–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –ø–æ—Å–µ—â–∞—é –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –∏ –º–∏—Ç–∞–ø—ã, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –º–Ω–µ –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ –ò–ò –∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.\n' +
          '‚óè –£ –º–µ–Ω—è –µ—Å—Ç—å —É—Å–ø–µ—à–Ω—ã–π –æ–ø—ã—Ç —É—á–∞—Å—Ç–∏—è –≤ —Ö–∞–∫–∞—Ç–æ–Ω–∞—Ö, –≥–¥–µ —è –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞ —Ä–µ—à–µ–Ω–∏—è, –Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–ª–∞ –≤ –∫–æ–º–∞–Ω–¥–µ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ–±—â–∏—Ö —Ü–µ–ª–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä:\n' +
          '‚óã AI Journey 2022\n' +
          '‚óã –ù–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏ –∏ –≥–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ - –ø—Ä–æ–µ–∫—Ç –ø–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—é —ç–º–æ—Ü–∏–π\n' +
          '\n' +
          '–Ø —É–≤–µ—Ä–µ–Ω–∞, —á—Ç–æ –º–æ–π –æ–ø—ã—Ç –∏ –Ω–∞–≤—ã–∫–∏ –ø–æ–∑–≤–æ–ª—è—Ç –º–Ω–µ –≤–Ω–µ—Å—Ç–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –≤–∫–ª–∞–¥ –≤ —É—Å–ø–µ—Ö –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏. –Ø –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∏ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞—á, —Å—Ç–æ—è—â–∏—Ö –ø–µ—Ä–µ–¥ –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–æ–π.\n' +
          '\n' +
          '–° –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±—Å—É–¥–∏—Ç—å, –∫–∞–∫ —è –º–æ–≥—É –ø–æ–º–æ—á—å –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—å –µ—ë —Ü–µ–ª–µ–π. –°–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π –º–æ–∂–Ω–æ –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ –∏–ª–∏ —á–µ—Ä–µ–∑ Telegram:\n' +
          '‚ûú anna.ai98@example.com\n' +
          '‚ûú https://t.me/anna_ai\n' +
          '\n' +
          '–ë–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ –∏ –Ω–∞–¥–µ—é—Å—å –Ω–∞ —Å–∫–æ—Ä—É—é –≤—Å—Ç—Ä–µ—á—É!\n' +
          '\n' +
          '–° —É–≤–∞–∂–µ–Ω–∏–µ–º,\n' +
          '–ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–∞\n'
      );
  };

  const isButtonDisabled = !template || !resume || !jobDescription || isLoading;

  return (
      <div className={'generation-container'}>
          <h2 className={'generation-header'}>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∏—Å—å–º–æ</h2>
          <p className={'generation-text'}>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ. –î–ª—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤ –≤ —à–∞–±–ª–æ–Ω–µ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ &#123;placeholder&#125;.</p>
          <textarea
              className={'generation-input'}
              placeholder="–®–∞–±–ª–æ–Ω —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∏—Å—å–º–∞"
              value={template}
              onChange={(e) => setTemplate(e.target.value)}
          />
          <textarea
              className={'generation-input'}
              placeholder="–í–∞—à–µ —Ä–µ–∑—é–º–µ"
              value={resume}
              onChange={(e) => setResume(e.target.value)}
          />
          <textarea
              className={'generation-input'}
              placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏"
              value={jobDescription}
              onChange={(e) => setJobDescription(e.target.value)}
          />
          <button
              className={'generation-button'}
              onClick={fillWithExample}
              disabled={!isButtonDisabled || isLoading}
          >
              –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
          </button>
          <button
              className={'generation-button'}
              onClick={handleGenerate}
              disabled={isButtonDisabled}
          >
              –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
          </button>
          {isLoading ? (
              <div className="loading-spinner"></div> // Use the spinner when loading
          ) : generatedLetter ? (
              <div className={'generation-result'}>
                  <h3>Generated Letter</h3>
                  <br/>
                  <p>{generatedLetter}</p>
              </div>
          ) : null}
      </div>
  );
};
